import{a as e,j as t,r,b as C,d as j,F as L,g as p,f as c}from"./app-562584a3.js";import{U as P}from"./User-557c6640.js";import{S as h}from"./sweetalert2.all-8842200b.js";function B(){return e("div",{className:"bg-gray-300 bg-opacity-30 z-50 min-h-screen fixed w-full flex items-center justify-center",children:e("div",{className:"text-center",children:t("svg",{className:"animate-spin -ml-1 mr-3 h-10 w-10 mx-auto text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})}function F({target:d,soal:w,is_last_soal:g,csrf_token:m,is_first_soal:v}){const[s,f]=r.useState(w),[y,u]=r.useState(g),[N,S]=r.useState(v),[n,o]=r.useState(0),[b,i]=r.useState(!1),k=()=>{if(n===0)h.fire("Info!","Pilih jawaban ","info");else{i(!0);let l={soal_id:s.id,target_id:d.id,pilihan_id:n};l._token=m,c.post("/nextSoal",l).then(a=>{f(a.data.next_soal),u(a.data.is_last_soal),a.data.riwayatPilihan?o(a.data.riwayatPilihan.pilihan_ganda_id):o(0),i(!1)}).catch(a=>{i(!1),console.log("err",a)})}},_=()=>{if(console.log("PilihanId",n),n===0)h.fire("Info!","Pilih jawaban ","info");else{i(!0);let l={soal_id:s.id,target_id:d.id,pilihan_id:n};l._token=m,c.post("/nextSoal",l).then(a=>{h.fire({icon:"success",title:"Anda telah menyelesaikan survey"}),p.get("/list-survey"),i(!1)}).catch(a=>{i(!1),console.log("err",a)})}},x=()=>{i(!0),c.get(`/backSoal?soal_id=${s.id}&target_id=${d.id}`).then(l=>{f(l.data.soal),o(l.data.pilihanUser.pilihan_ganda_id),S(l.data.first_soal),u(!1),i(!1)}).catch(l=>{i(!1),console.log("err",l)})};return t(P,{children:[e(C,{title:`Pertanyaan ${s.title}`}),b&&e(B,{}),t("div",{className:"bg-yellow-50 min-h-screen",children:[e("div",{className:"bg-yellow-600 h-36 w-full rounded-b-3xl",children:t(j,{href:"/",className:"flex items-center px-3 pt-2",children:[e("div",{className:"text-white",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),e("div",{className:"text-white ml-3",children:"Home"})]})}),t("div",{className:"bg-white p-3 rounded-lg -mt-24 mx-3",children:[e("div",{className:"text-lg font-semibold",children:s.title}),e("div",{className:"text-sm",children:s.subtitle})]}),t("div",{className:"bg-white p-3 rounded-lg  mx-3 mt-2",children:[s.pilihan.map((l,a)=>t("div",{className:`p-3 rounded-full mb-3 border flex items-center ${n===l.id?"bg-yellow-500 text-white  border-yellow-500 ":"bg-yellow-100 border-yellow-100"}`,onClick:()=>o(l.id),children:[n===l.id&&e("div",{className:"mr-2",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:e("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"})})}),t("span",{className:"mr-2 text-sm",children:[a+1,"."]}),e("span",{className:"text-sm",children:l.title})]},l.id)),y?t(L,{children:[e("div",{onClick:_,className:" bg-yellow-600 text-white text-center px-2 py-3 rounded-full w-full mt-10",children:"Selesai"}),e("div",{onClick:x,className:" bg-gray-600 w-full mt-4 text-white text-center px-2 py-3 rounded-full ",children:"Back"})]}):t("div",{className:"flex justify-between mt-16",children:[N?e("div",{onClick:()=>p.get("/list-survey"),className:" bg-gray-600 text-white text-center px-2 py-3 rounded-full w-1/3",children:"Back Home"}):e("div",{onClick:x,className:" bg-gray-600 text-white text-center px-2 py-3 rounded-full w-1/3",children:"Back"}),e("div",{onClick:k,className:" bg-yellow-600 text-white text-center px-2 py-3 rounded-full w-1/2",children:"Selanjutnya"})]})]})]})]})}export{F as default};
